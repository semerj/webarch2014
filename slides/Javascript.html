<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Javascript</title>
<!-- 2014-09-12 Fri 00:07 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="generator" content="Org-mode"/>
<meta name="author" content="Jim Blomo"/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="production/common.css" />
<link rel="stylesheet" type="text/css" href="production/screen.css" media="screen" />
<link rel="stylesheet" type="text/css" href="production/projection.css" media="projection" />
<link rel="stylesheet" type="text/css" href="production/color-blue.css" media="projection" />
<link rel="stylesheet" type="text/css" href="production/presenter.css" media="presenter" />
<link href='http://fonts.googleapis.com/css?family=Lobster+Two:700|Yanone+Kaffeesatz:700|Open+Sans' rel='stylesheet' type='text/css'>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012  Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Javascript</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. <b>Javascript</b></a></li>
<li><a href="#sec-2">2. General Purpose</a>
<ul>
<li><a href="#sec-2-1">2.1. Spread of Javascript</a></li>
</ul>
</li>
<li><a href="#sec-3">3. Limited</a>
<ul>
<li><a href="#sec-3-1">3.1. This lecture</a></li>
</ul>
</li>
<li><a href="#sec-4">4. Console</a>
<ul>
<li><a href="#sec-4-1">4.1. Demo</a></li>
</ul>
</li>
<li><a href="#sec-5">5. jsFiddle</a></li>
<li><a href="#sec-6">6. Variables</a>
<ul>
<li><a href="#sec-6-1">6.1. Typing</a></li>
</ul>
</li>
<li><a href="#sec-7">7. Strings</a>
<ul>
<li><a href="#sec-7-1">7.1. Quote Char</a></li>
</ul>
</li>
<li><a href="#sec-8">8. Lists</a>
<ul>
<li><a href="#sec-8-1">8.1. Indexed</a></li>
</ul>
</li>
<li><a href="#sec-9">9. Objects</a>
<ul>
<li><a href="#sec-9-1">9.1. Nested</a></li>
</ul>
</li>
<li><a href="#sec-10">10. Functions</a></li>
<li><a href="#sec-11">11. DOM</a></li>
<li><a href="#sec-12">12. Inspecting the DOM</a></li>
<li><a href="#sec-13">13. Selecting Elements</a></li>
<li><a href="#sec-14">14. Raw vs jQuery</a>
<ul>
<li><a href="#sec-14-1">14.1. Format</a></li>
</ul>
</li>
<li><a href="#sec-15">15. Modifying the DOM</a>
<ul>
<li><a href="#sec-15-1">15.1. Modify</a></li>
</ul>
</li>
<li><a href="#sec-16">16. Apply CSS style</a></li>
<li><a href="#sec-17">17. Synchronous</a>
<ul>
<li><a href="#sec-17-1">17.1. Never!</a></li>
</ul>
</li>
<li><a href="#sec-18">18. Synchronous Python</a>
<ul>
<li><a href="#sec-18-1">18.1. When?</a></li>
</ul>
</li>
<li><a href="#sec-19">19. Asynchronous</a>
<ul>
<li><a href="#sec-19-1">19.1. Notes</a></li>
</ul>
</li>
<li><a href="#sec-20">20. Callbacks</a>
<ul>
<li><a href="#sec-20-1">20.1. Trade-offs</a></li>
</ul>
</li>
<li><a href="#sec-21">21. Asynchronous Javascript</a>
<ul>
<li><a href="#sec-21-1">21.1. When?</a></li>
</ul>
</li>
<li><a href="#sec-22">22. Why Async?</a>
<ul>
<li><a href="#sec-22-1">22.1. Answers</a></li>
</ul>
</li>
<li><a href="#sec-23">23. Event -&gt; Function</a>
<ul>
<li><a href="#sec-23-1">23.1. onclick</a></li>
</ul>
</li>
<li><a href="#sec-24">24. Listen to events</a>
<ul>
<li><a href="#sec-24-1">24.1. Callbacks</a></li>
</ul>
</li>
<li><a href="#sec-25">25. jQuery</a>
<ul>
<li><a href="#sec-25-1">25.1. Inline</a></li>
</ul>
</li>
<li><a href="#sec-26">26. AJAX</a>
<ul>
<li><a href="#sec-26-1">26.1. More Info</a></li>
</ul>
</li>
<li><a href="#sec-27">27. Infinite Scroll</a>
<ul>
<li><a href="#sec-27-1">27.1. AJAX</a></li>
</ul>
</li>
<li><a href="#sec-28">28. jQuery AJAX</a>
<ul>
<li><a href="#sec-28-1">28.1. Callbacks</a></li>
</ul>
</li>
<li><a href="#sec-29">29. JSON</a>
<ul>
<li><a href="#sec-29-1">29.1. Javascript Object Notation</a></li>
</ul>
</li>
<li><a href="#sec-30">30. Summary</a>
<ul>
<li><a href="#sec-30-1">30.1. Next</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> <b>Javascript</b>&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> General Purpose&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li>Javascript full programming language
</li>
<li>Started in the browser
</li>
<li>Now used on servers, command line, devices&#x2026;
</li>
</ul>
</div>
<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> Spread of Javascript&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>If it can be written in JS, it will be
</li>
<li>Very lightweight language, lots of reach
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Limited&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-3">
<ul class="org-ul">
<li>Manipulate the DOM
</li>
<li>Validate form values
</li>
<li>Make asynchronous web requests (AJAX)
</li>
</ul>
</div>
<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> This lecture&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-3-1">
<ul class="org-ul">
<li>We'll just scratch the surface to get a sense of what's possible
</li>
<li>Basics: adding elements and information to the DOM
</li>
<li>Checking values
</li>
<li>Understand asynchronous calling
</li>
<li>Focusing on what makes Javascript unique for the web
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Console&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span>&#xa0;<span class="two_col">two_col</span></span></h2>
<div class="outline-text-2" id="text-4">

<div class="figure">
<p><img src="img/firebug.png"  alt="firebug.png"/></p>
</div>
<ul class="org-ul">
<li>Firebug or Chrome Tools run Javascript
</li>
<li>Easiest way to play with language
</li>
<li><code>console.log</code> can print to the log from anywhere
</li>
</ul>
</div>
<div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> Demo&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-4-1">
<ul class="org-ul">
<li>Open Chrome Tools, setting variable
</li>
<li>document.getElementsByTagName('IMG')
</li>
<li>assign to variable
</li>
<li>for( var i=0; i&lt;imgTags.length; i++) {console.log(imgTags[i].src);}
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> <a href="http://jsfiddle.net">jsFiddle</a>&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span>&#xa0;<span class="center">center</span></span></h2>
<div class="outline-text-2" id="text-5">

<div class="figure">
<p><img src="img/jsfiddle.png"  alt="jsfiddle.png"/></p>
</div>
<ul class="org-ul">
<li>Write and run HTML, CSS, Javascript
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> Variables&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-6">
<ul class="org-ul">
<li>Declare with <code>var</code> to scope correctly
</li>
<li>Weak, dynamic typing
</li>
</ul>
<div class="org-src-container">

<pre class="src src-javascript"><span style="color: #a020f0;">var</span> <span style="color: #a0522d;">a</span> = 3;
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">b</span> = 5;
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">c</span> = a + b;
</pre>
</div>
</div>
<div id="outline-container-sec-6-1" class="outline-3">
<h3 id="sec-6-1"><span class="section-number-3">6.1</span> Typing&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-6-1">
<ul class="org-ul">
<li>What is <code>c</code>?
</li>
<li>Don't worry too much
</li>
<li>Means you can assign whatever you want to a variable name
</li>
<li>Different types can be combined&#x2026; Javascript tries to do the right thing,
but it can be wrong
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> Strings&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-7">
<div class="org-src-container">

<pre class="src src-javascript"><span style="color: #a020f0;">var</span> <span style="color: #a0522d;">a</span> = <span style="color: #8b2252;">'hello '</span>;
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">b</span> = <span style="color: #8b2252;">'world!'</span>;
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">c</span> = a + b;
</pre>
</div>
</div>
<div id="outline-container-sec-7-1" class="outline-3">
<h3 id="sec-7-1"><span class="section-number-3">7.1</span> Quote Char&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-7-1">
<ul class="org-ul">
<li>What is <code>c</code>?
</li>
<li>Single or double quotes, up to you
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8"><span class="section-number-2">8</span> Lists&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-8">
<div class="org-src-container">

<pre class="src src-javascript"><span style="color: #a020f0;">var</span> <span style="color: #a0522d;">l</span> = [1 ,2, <span style="color: #8b2252;">"jim"</span>];
l[1];
</pre>
</div>
</div>
<div id="outline-container-sec-8-1" class="outline-3">
<h3 id="sec-8-1"><span class="section-number-3">8.1</span> Indexed&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-8-1">
<ul class="org-ul">
<li>0 indexed
</li>
<li>Will return 2
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9"><span class="section-number-2">9</span> Objects&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-9">
<ul class="org-ul">
<li>Similar to Maps or dicts
</li>
</ul>
<div class="org-src-container">

<pre class="src src-javascript"><span style="color: #a020f0;">var</span> <span style="color: #a0522d;">titles</span> = {
    info253: <span style="color: #8b2252;">'Web Arch'</span>,
    info256: <span style="color: #8b2252;">'Applied NLP'</span>};
titles.info253;
<span style="color: #b22222;">/* </span><span style="color: #b22222;">'Web Arch' */</span>
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">schools</span> = {
    berkeley: {info253: <span style="color: #8b2252;">'Web Arch'</span>},
    stanford: {cs101: <span style="color: #8b2252;">'Intro CS'</span>}};
schools.stanford.cs101;
<span style="color: #b22222;">/* </span><span style="color: #b22222;">'Intro CS' */</span>
</pre>
</div>
</div>
<div id="outline-container-sec-9-1" class="outline-3">
<h3 id="sec-9-1"><span class="section-number-3">9.1</span> Nested&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-9-1">
<ul class="org-ul">
<li>May be nested
</li>
<li>Any datatypes for values
</li>
<li>Strings for keys
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-10" class="outline-2">
<h2 id="sec-10"><span class="section-number-2">10</span> Functions&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-10">
<div class="org-src-container">

<pre class="src src-javascript"><span style="color: #a020f0;">var</span> <span style="color: #a0522d;">add</span> = <span style="color: #a020f0;">function</span>(<span style="color: #a0522d;">a</span>, <span style="color: #a0522d;">b</span>) {<span style="color: #a020f0;">return</span> a + b;}
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">c</span> = add(2, 7)
<span style="color: #b22222;">/* </span><span style="color: #b22222;">c is now 9 */</span>

<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">arithmetic</span> = {add: add, subtract: <span style="color: #a020f0;">function</span>(<span style="color: #a0522d;">a</span>, <span style="color: #a0522d;">b</span>) {<span style="color: #a020f0;">return</span> a - b;}};

<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">d</span> = arithmetic.subtract(11, 4);
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">e</span> = arithmetic.add(0, 3);

<span style="color: #b22222;">/* </span><span style="color: #b22222;">d is now 7; e is now 3; */</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-11" class="outline-2">
<h2 id="sec-11"><span class="section-number-2">11</span> DOM&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span>&#xa0;<span class="animate">animate</span></span></h2>
<div class="outline-text-2" id="text-11">
<ul class="org-ul">
<li>Document Object Model
</li>
<li><code>document</code> is a Javascript Object
</li>
<li>You can modify it and reflect the changes
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-12" class="outline-2">
<h2 id="sec-12"><span class="section-number-2">12</span> Inspecting the DOM&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span>&#xa0;<span class="two_col">two_col</span></span></h2>
<div class="outline-text-2" id="text-12">
<ul class="org-ul">
<li>You can use <code>childNodes</code> to explore children
</li>
<li>Will return a list
</li>
<li><code>document.childNodes[1]</code>
</li>
</ul>

<div class="figure">
<p><img src="img/dom-explore.png"  alt="dom-explore.png"/></p>
</div>
</div>
</div>
<div id="outline-container-sec-13" class="outline-2">
<h2 id="sec-13"><span class="section-number-2">13</span> Selecting Elements&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span>&#xa0;<span class="center">center</span></span></h2>
<div class="outline-text-2" id="text-13">

<div class="figure">
<p><img src="img/getById.png"  alt="getById.png"/></p>
</div>
<ul class="org-ul">
<li><code>getElementById('target')</code>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-14" class="outline-2">
<h2 id="sec-14"><span class="section-number-2">14</span> Raw vs jQuery&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-14">
<div class="org-src-container">

<pre class="src src-javascript"><span style="color: #b22222;">/* </span><span style="color: #b22222;">raw */</span>
document.getElementById(<span style="color: #8b2252;">'to-do-list'</span>);
<span style="color: #b22222;">/* </span><span style="color: #b22222;">or getElementsByTagName, and getElementsByClassName */</span>

<span style="color: #b22222;">/* </span><span style="color: #b22222;">jQuery */</span>
$(<span style="color: #8b2252;">'#to-do-list'</span>);
$(<span style="color: #8b2252;">'#to-do-list li.item'</span>);
</pre>
</div>
</div>
<div id="outline-container-sec-14-1" class="outline-3">
<h3 id="sec-14-1"><span class="section-number-3">14.1</span> Format&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-14-1">
<ul class="org-ul">
<li>What format does the jQuery selector remind you of?
</li>
<li>Automatically selects the right raw Javascript to call
</li>
<li>Trade-off: can be slower, unexpected results
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-15" class="outline-2">
<h2 id="sec-15"><span class="section-number-2">15</span> Modifying the DOM&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-15">
<ul class="org-ul">
<li><code>.innerHTML</code> is the text HTML inside the element
</li>
</ul>
Things to do
<ul id="to-do-list">
<li class="item">Homework assignment</li>
<li class="item">Grab coffee</li>
</ul>
</div>
<div id="outline-container-sec-15-1" class="outline-3">
<h3 id="sec-15-1"><span class="section-number-3">15.1</span> Modify&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-15-1">
<ul class="org-ul">
<li>use non-slide version
</li>
<li>var todoList = document.getElementById('to-do-list');
</li>
<li>todoList.innerHTML += '&lt;li class="item"&gt;Go out for dinner';
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-16" class="outline-2">
<h2 id="sec-16"><span class="section-number-2">16</span> Apply CSS style&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-16">
<div class="org-src-container">

<pre class="src src-javascript">todoList.childNodes[1].style.background = <span style="color: #8b2252;">"pink"</span>;

<span style="color: #b22222;">/* </span><span style="color: #b22222;">jquery */</span>
$(<span style="color: #8b2252;">'#to-do-list .item'</span>).css(<span style="color: #8b2252;">'background'</span>, <span style="color: #8b2252;">'green'</span>);
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-17" class="outline-2">
<h2 id="sec-17"><span class="section-number-2">17</span> Synchronous&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-17">
<ul class="org-ul">
<li>Linear execution, waiting for each function to finish
</li>
<li>"End" of a program when all statements executed
</li>
<li>Similar to calling and being on hold
</li>
</ul>
</div>
<div id="outline-container-sec-17-1" class="outline-3">
<h3 id="sec-17-1"><span class="section-number-3">17.1</span> Never!&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-17-1">
<ul class="org-ul">
<li>Javascript on the page is always responding to the user
</li>
<li>When updating the page, or requesting information from the server, we don't
want the whole app to freeze
</li>
<li>Call, on hold (your call is important to us), talk, ask for info, on hold
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-18" class="outline-2">
<h2 id="sec-18"><span class="section-number-2">18</span> Synchronous Python&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-18">
<div class="org-src-container">

<pre class="src src-python"><span style="color: #a0522d;">file</span> = <span style="color: #7a378b;">open</span>(<span style="color: #8b2252;">"todo.html"</span>)
<span style="color: #a0522d;">content</span> = <span style="color: #7a378b;">file</span>.readlines()
<span style="color: #a0522d;">response</span> = urlopen(<span style="color: #8b2252;">"http://people.ischool.../todo.html"</span>)
<span style="color: #a0522d;">html</span> = response.read()
</pre>
</div>
</div>
<div id="outline-container-sec-18-1" class="outline-3">
<h3 id="sec-18-1"><span class="section-number-3">18.1</span> When?&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-18-1">
<ul class="org-ul">
<li>When is the content read? after the file is opened
</li>
<li>When is the http call made? after the file is read
</li>
<li>When is the response read? after the HTTP server request is made
</li>
<li>Almost too obvious that I will have to show the alternative as contrast
</li>
<li>"on hold" while url is being read; nothing else in the program is
executing; can't start fetching the URL while waiting for the file to load
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-19" class="outline-2">
<h2 id="sec-19"><span class="section-number-2">19</span> Asynchronous&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-19">
<ul class="org-ul">
<li>Respond to events independently
</li>
<li>Run functions in response to actions
</li>
<li>"Callbacks" instead of being "on hold"
</li>
</ul>
</div>
<div id="outline-container-sec-19-1" class="outline-3">
<h3 id="sec-19-1"><span class="section-number-3">19.1</span> Notes&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-19-1">
<ul class="org-ul">
<li>Events include: page scroll, clicking, submitting forms, hovering, page
finished loading
</li>
<li>When those events happen, run some function. 
</li>
<li>Callbacks an example of this
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-20" class="outline-2">
<h2 id="sec-20"><span class="section-number-2">20</span> Callbacks&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span>&#xa0;<span class="two_col">two_col</span></span></h2>
<div class="outline-text-2" id="text-20">
<ul class="org-ul">
<li>You want to make a request to your Bank
</li>
<li>Dial their number&#x2026; on hold (synchronous)
</li>
<li>Or have them call you back? (asynchronous)
</li>
</ul>

<div class="figure">
<p><img src="img/caller-on-hold.jpg"  alt="caller-on-hold.jpg"/></p>
</div>
</div>
<div id="outline-container-sec-20-1" class="outline-3">
<h3 id="sec-20-1"><span class="section-number-3">20.1</span> Trade-offs&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-20-1">
<ul class="org-ul">
<li>Wait: don't get confused, context switch
</li>
<li>Wait: but a lot of wasted time, no on else can talk to you
</li>
<li>Call back: frees you up
</li>
<li>Call back: but you have to leave instructions in case they call back and
you aren't there
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-21" class="outline-2">
<h2 id="sec-21"><span class="section-number-2">21</span> Asynchronous Javascript&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-21">
<div class="org-src-container">

<pre class="src src-javascript">fs.readFile(<span style="color: #8b2252;">"todo.html"</span>, <span style="color: #8b2252;">"utf-8"</span>, <span style="color: #a020f0;">function</span>(<span style="color: #a0522d;">error</span>, <span style="color: #a0522d;">data</span>) {console.log(data)})

$.ajax(<span style="color: #8b2252;">"http://people.ischool.../todo.html"</span>, {
  <span style="color: #0000ff;">success</span>: <span style="color: #a020f0;">function</span>(<span style="color: #a0522d;">data</span>) {
    $(<span style="color: #8b2252;">'#ajax-snippet'</span>).append(data);
  }
})
</pre>
</div>
</div>
<div id="outline-container-sec-21-1" class="outline-3">
<h3 id="sec-21-1"><span class="section-number-3">21.1</span> When?&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-21-1">
<ul class="org-ul">
<li>When is the content read? after the file is opened
</li>
<li>DIFFERENCE: When is the request made: Immediately after the readFile is
</li>
</ul>
<p>
"kicked-off", does not wait for file to be read
</p>
<ul class="org-ul">
<li>When is the response read? after the HTTP server request is made
</li>
<li>"Callbacks" are used to handle the result, not inline with code
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-22" class="outline-2">
<h2 id="sec-22"><span class="section-number-2">22</span> Why Async?&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-22">
<ul class="org-ul">
<li>When do you want your Javascript to "finish"?
</li>
<li>What should UI do while waiting?
</li>
<li>What should UI do while animating?
</li>
</ul>
</div>
<div id="outline-container-sec-22-1" class="outline-3">
<h3 id="sec-22-1"><span class="section-number-3">22.1</span> Answers&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-22-1">
<ul class="org-ul">
<li>never! Always interacting
</li>
<li>don't freeze!
</li>
<li>still allow other elements to be interacted with
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-23" class="outline-2">
<h2 id="sec-23"><span class="section-number-2">23</span> Event -&gt; Function&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-23">
<ul class="org-ul">
<li><code>onclick</code> will run code on the click event
</li>
</ul>
<div class="org-src-container">

<pre class="src src-html">&lt;<span style="color: #0000ff;">a</span> <span style="color: #a0522d;">href</span>=<span style="color: #8b2252;">"#"</span> <span style="color: #a0522d;">onclick</span>=<span style="color: #8b2252;">"alert('hello');"</span>&gt;Hello&lt;/<span style="color: #0000ff;">a</span>&gt;
</pre>
</div>
<a href="#" onclick="alert('hello');">Hello</a>
</div>
<div id="outline-container-sec-23-1" class="outline-3">
<h3 id="sec-23-1"><span class="section-number-3">23.1</span> onclick&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-23-1">
<ul class="org-ul">
<li>Handle click event
</li>
<li><code>href</code> of "#" means "don't actually go anywhere"
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-24" class="outline-2">
<h2 id="sec-24"><span class="section-number-2">24</span> Listen to events&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-24">
<div class="org-src-container">

<pre class="src src-javascript"><span style="color: #a020f0;">function</span> <span style="color: #0000ff;">increment</span>() {
    <span style="color: #a020f0;">var</span> <span style="color: #a0522d;">el</span> = document.getElementById(<span style="color: #8b2252;">"ticker"</span>);
    el.firstChild.nodeValue += <span style="color: #8b2252;">" tick"</span>;
}
<span style="color: #a020f0;">var</span> <span style="color: #a0522d;">el</span> = document.getElementById(<span style="color: #8b2252;">"ticker"</span>);
el.addEventListener(<span style="color: #8b2252;">"click"</span>, increment);
</pre>
</div>
<p id="ticker">tick</p>
<script>
function increment() {
    var el = document.getElementById("ticker");
    el.firstChild.nodeValue += " tick";
}
var el = document.getElementById("ticker");
el.addEventListener("click", increment);
</script>
</div>
<div id="outline-container-sec-24-1" class="outline-3">
<h3 id="sec-24-1"><span class="section-number-3">24.1</span> Callbacks&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-24-1">
<ul class="org-ul">
<li><code>increment</code> function is called when the click event happens
</li>
<li>when we specify <code>increment</code> it is the "callback"
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-25" class="outline-2">
<h2 id="sec-25"><span class="section-number-2">25</span> jQuery&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-25">
<div class="org-src-container">

<pre class="src src-javascript">$(<span style="color: #8b2252;">"#ticker"</span>).click(<span style="color: #a020f0;">function</span>() {...});
</pre>
</div>
</div>
<div id="outline-container-sec-25-1" class="outline-3">
<h3 id="sec-25-1"><span class="section-number-3">25.1</span> Inline&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-25-1">
<ul class="org-ul">
<li>jQuery hides the specific calls needed
</li>
<li>functions can be specified inline, you don't need to declare them
</li>
<li>Although it often helps readability
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-26" class="outline-2">
<h2 id="sec-26"><span class="section-number-2">26</span> AJAX&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-26">
<ul class="org-ul">
<li>Asynchronous Javascript And XML*
</li>
<li>Allows Javascript to make additional requests
</li>
<li>Why?
</li>
</ul>
</div>
<div id="outline-container-sec-26-1" class="outline-3">
<h3 id="sec-26-1"><span class="section-number-3">26.1</span> More Info&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-26-1">
<ul class="org-ul">
<li>Gather more information, eg. sophisticated auto complete
</li>
<li>Fill in information in place
</li>
<li>Infinite scroll
</li>
<li>*Actually doesn't use XML much anymore: HTML snippets and JSON
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-27" class="outline-2">
<h2 id="sec-27"><span class="section-number-2">27</span> Infinite Scroll&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-27">
<ul class="org-ul">
<li><a href="http://www.pinterest.com/search/?q=programmers">Pinterest</a>
</li>
</ul>

<div class="figure">
<p><img src="img/stackoverflow.jpg"  alt="stackoverflow.jpg"/></p>
</div>
</div>
<div id="outline-container-sec-27-1" class="outline-3">
<h3 id="sec-27-1"><span class="section-number-3">27.1</span> AJAX&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-27-1">
<ul class="org-ul">
<li>When the scroll event or view events happen, javascript will make an AJAX
call to server
</li>
<li>Server will respond with HTML inside JSON
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-28" class="outline-2">
<h2 id="sec-28"><span class="section-number-2">28</span> jQuery AJAX&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-28">
<div class="org-src-container">

<pre class="src src-javascript">$(<span style="color: #8b2252;">'#get-homework'</span>).click(<span style="color: #a020f0;">function</span>(<span style="color: #a0522d;">event</span>) {
  $.ajax(<span style="color: #8b2252;">'/snippet'</span>, {
    <span style="color: #0000ff;">success</span>: <span style="color: #a020f0;">function</span>(<span style="color: #a0522d;">data</span>) {
      $(<span style="color: #8b2252;">'#ajax-snippet'</span>).append(data);
      event.stopPropagation();
    }
  })
});
</pre>
</div>
</div>
<div id="outline-container-sec-28-1" class="outline-3">
<h3 id="sec-28-1"><span class="section-number-3">28.1</span> Callbacks&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-28-1">
<ul class="org-ul">
<li>Again, we're using callbacks
</li>
<li>We can't wait around while the server responds: maybe the user is clicking
somewhere else!
</li>
<li>Instead we specify what to do when the call returns
</li>
<li>Also callbacks for <code>error</code>, other conditions
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-29" class="outline-2">
<h2 id="sec-29"><span class="section-number-2">29</span> JSON&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-29">
<ul class="org-ul">
<li>Pass data as if it were a Javascript Object
</li>
<li>Common data format in a variety of languages
</li>
</ul>
<div class="org-src-container">

<pre class="src src-javascript">{firstname: <span style="color: #8b2252;">"Jim"</span>,
 lastname: <span style="color: #8b2252;">"Blomo"</span>,
 school: <span style="color: #8b2252;">"Berkeley"</span>,
 jobs: [<span style="color: #8b2252;">"Yelp"</span>, <span style="color: #8b2252;">"A9"</span>]}
</pre>
</div>
</div>
<div id="outline-container-sec-29-1" class="outline-3">
<h3 id="sec-29-1"><span class="section-number-3">29.1</span> Javascript Object Notation&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-29-1">
<ul class="org-ul">
<li>used in place of XML
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-30" class="outline-2">
<h2 id="sec-30"><span class="section-number-2">30</span> Summary&#xa0;&#xa0;&#xa0;<span class="tag"><span class="slide">slide</span></span></h2>
<div class="outline-text-2" id="text-30">

<div class="figure">
<p><img src="img/overview.png"  alt="overview.png"/></p>
</div>
<ul class="org-ul">
<li>Javascript used to manipulate DOM, CSS styles
</li>
<li>Javascript is a full, asynchronous programming language
</li>
<li>Used to enhance existing, semantic HTML
</li>
<li>Forms used to take input from users, send data to servers
</li>
</ul>
</div>
<div id="outline-container-sec-30-1" class="outline-3">
<h3 id="sec-30-1"><span class="section-number-3">30.1</span> Next&#xa0;&#xa0;&#xa0;<span class="tag"><span class="notes">notes</span></span></h3>
<div class="outline-text-3" id="text-30-1">
<ul class="org-ul">
<li>How do they send data? Upcoming lectures
</li>
</ul>

<script type="text/javascript" src="production/org-html-slideshow.js"></script>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Jim Blomo</p>
<p class="date">Created: 2014-09-12 Fri 00:07</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 23.4.1 (<a href="http://orgmode.org">Org</a> mode 8.0.6)</p>
<p class="xhtml-validation"><a href="http://validator.w3.org/check?uri=referer">Validate XHTML 1.0</a></p>
</div>
</body>
</html>
